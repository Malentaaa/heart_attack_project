# –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ä–∏—Å–∫–∞ —Å–µ—Ä–¥–µ—á–Ω—ã—Ö –ø—Ä–∏—Å—Ç—É–ø–æ–≤

–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ –ø–æ Data Science.  
–¶–µ–ª—å ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –º–æ–¥–µ–ª—å –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–µ—Ä–¥–µ—á–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—É–ø–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.  
–ù–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ –≤—ã–ø–æ–ª–Ω–µ–Ω **EDA, –æ—Ç–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π**.  
–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –≤ **FastAPI —Å–µ—Ä–≤–∏—Å** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

---

üìä –î–∞—Ç–∞—Å–µ—Ç

- –£—á–µ–±–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞.  
- –í—Å–µ–≥–æ **23 –ø—Ä–∏–∑–Ω–∞–∫–∞**, –≤–∫–ª—é—á–∞—è –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏.  
- –¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: `heart_attack_risk_binary` (0 ‚Äî –Ω–µ—Ç, 1 ‚Äî —Ä–∏—Å–∫ —Å–µ—Ä–¥–µ—á–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—É–ø–∞).

–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤:
- `age` ‚Äî –≤–æ–∑—Ä–∞—Å—Ç  
- `heart_rate` ‚Äî –ø—É–ª—å—Å  
- `bmi` ‚Äî –∏–Ω–¥–µ–∫—Å –º–∞—Å—Å—ã —Ç–µ–ª–∞  
- `cholesterol`, `triglycerides`  
- `systolic_blood_pressure`, `diastolic_blood_pressure`  
- `smoking`, `alcohol_consumption`, `obesity`  
- `diabetes`, `previous_heart_problems`, `medication_use`  
- `sleep_hours_per_day`, `diet`, `income`

---

üî¨ –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è

–≠—Ç–∞–ø—ã –∞–Ω–∞–ª–∏–∑–∞:

1. **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤ –∏ —Ç–∏–ø–æ–≤ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤  
   - –ò–º–ø—å—é—Ç–∞—Ü–∏—è (SimpleImputer)  
   - –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (StandardScaler, MinMaxScaler)  
   - –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (OneHotEncoder, OrdinalEncoder)  

2. **–†–∞–∑–≤–µ–¥–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (EDA)**
   - –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ  
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç–∏ (Shapiro-Wilk)  
   - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –∏ –º—É–ª—å—Ç–∏–∫–æ–ª–ª–∏–Ω–µ–∞—Ä–Ω–æ—Å—Ç—å (VIF)  
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã, —Ç–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã, boxplot)

3. **–û—Ç–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤**
   - `SelectKBest` (f_classif, mutual_info_classif)  
   - –ò–∑ 23 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–Ω–æ 15 –Ω–∞–∏–±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö:  
     `heart_rate, income, bmi, triglycerides, sleep_hours_per_day, systolic_blood_pressure, diastolic_blood_pressure, diet, diabetes, family_history, smoking, obesity, alcohol_consumption, previous_heart_problems, medication_use`

4. **–ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Random Forest üåü (–ª—É—á—à–∞—è –º–æ–¥–µ–ª—å)  
   - Gradient Boosting  
   - XGBoost, LightGBM, CatBoost  
   - SVM  

5. **–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞**
   - –ú–µ—Ç—Ä–∏–∫–∏: F2, F1, Recall, Precision, ROC-AUC, PR-AUC  
   - –ü–æ–¥–±–æ—Ä –ø–æ—Ä–æ–≥–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

6. **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è**
   - Feature Importance  
   - SHAP values

---

üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–õ—É—á—à–∞—è –º–æ–¥–µ–ª—å**: Random Forest (—Å –ø–æ–¥–±–æ—Ä–æ–º –ø–æ—Ä–æ–≥–∞ –ø–æ F2).  

| –ú–µ—Ç—Ä–∏–∫–∞        | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------------|----------|
| F2             | 0.7338   |
| F1             | 0.5243   |
| Recall         | 1.0      |
| Precision      | 0.3553   |
| ROC-AUC        | 0.558    |
| PR-AUC         | 0.4156   |
| BestThreshold  | 0.39     |

‚û°Ô∏è **Recall = 1.0** ‚Äî –º–æ–¥–µ–ª—å ¬´–ª–æ–≤–∏—Ç¬ª –≤—Å–µ —Å–ª—É—á–∞–∏ (–≤–∞–∂–Ω–æ –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—ã), –Ω–æ Precision –ø–æ–∫–∞ –Ω–µ–≤—ã—Å–æ–∫–∏–π.  
–ó–∞–¥–∞—á–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —ç—Ç–∞–ø–∞ ‚Äî —É–ª—É—á—à–∏—Ç—å –±–∞–ª–∞–Ω—Å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏.

---

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞  

project_heart_attack/
‚îú‚îÄ‚îÄ notebooks/ # Jupyter –Ω–æ—É—Ç–±—É–∫–∏ (EDA, –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îÇ ‚îî‚îÄ‚îÄ project_heart_attack.ipynb
‚îú‚îÄ‚îÄ src/ # Python-–º–æ–¥—É–ª–∏ (–ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥, –ø–∞–π–ø–ª–∞–π–Ω—ã, –º–æ–¥–µ–ª–∏)
‚îú‚îÄ‚îÄ data/
‚îÇ ‚îú‚îÄ‚îÄ raw/ # –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Git)
‚îÇ ‚îú‚îÄ‚îÄ processed/ # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ ‚îî‚îÄ‚îÄ results/ # –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏
‚îú‚îÄ‚îÄ models/ # –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (.pkl)
‚îú‚îÄ‚îÄ images/ # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –æ—Ç—á—ë—Ç–∞/README
‚îú‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/Malentaaa/heart_attack_project.git
   cd heart_attack_project>

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   python -m venv .venv
   source .venv/bin/activate   # –¥–ª—è Linux/Mac
   .venv\Scripts\activate      # –¥–ª—è Windows
   pip install -r requirements.txt

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Jupyter Notebook:
   ```bash
   jupyter notebook


üöÄ FastAPI-—Å–µ—Ä–≤–∏—Å (–≥–æ—Ç–æ–≤)

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Ä–∞–±–æ—á–∏–π REST-API –∏ –ø—Ä–æ—Å—Ç–∞—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ CSV –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π.
–ß—Ç–æ —É–º–µ–µ—Ç
üìÑ –í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ GET / –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ CSV.
üîç –≠–Ω–¥–ø–æ–∏–Ω—Ç POST /api/predict_csv ‚Äî –ø–∞–∫–µ—Ç–Ω—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∏–∑ CSV.
üîπ –≠–Ω–¥–ø–æ–∏–Ω—Ç POST /api/predict ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ –æ–¥–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É (JSON).
üß™ Swagger UI GET /docs ‚Äî —É–¥–æ–±–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API.
ü©∫ GET /api/model_status ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å (–ø–æ—Ä–æ–≥, —à–∞–≥–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞, –æ–∂–∏–¥–∞–µ–º—ã–µ —Ñ–∏—á–∏).
‚ù§Ô∏è GET /health ‚Äî –ø—Ä–æ—Å—Ç–æ–π health-check.

‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1) –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –≤–æ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
git clone https://github.com/Malentaaa/heart_attack_project.git
cd project_heart_attack

2) –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
python -m venv .venv
indows PowerShell:
.\.venv\Scripts\Activate.ps1
MacOS/Linux:
source .venv/bin/activate

pip install -r requirements.txt

3) –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –º–æ–¥–µ–ª–∏ –Ω–∞ –º–µ—Å—Ç–µ
models/heart_rf_final.pkl ‚Äî –∫–æ–Ω–≤–µ–π–µ—Ä sklearn (prep ‚Üí select ‚Üí clf) + threshold
models/expected_features.json ‚Äî —Å–ø–∏—Å–æ–∫ "—Å—ã—Ä—ã—Ö" –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (–ø–æ—Ä—è–¥–æ–∫ –∫–æ–ª–æ–Ω–æ–∫)
models/threshold.json (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä–æ–≥ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞

4) –ó–∞–ø—É—Å–∫ API
–í–∞–∂–Ω–æ: –∑–∞–ø—É—Å–∫–∞–µ–º –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
set PYTHONPATH=.
uvicorn app_backend.app:app --reload --port 8001


–û—Ç–∫—Ä–æ–π:

–í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞: http://127.0.0.1:8001/

Swagger: http://127.0.0.1:8001/docs

–°—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª–∏: http://127.0.0.1:8001/api/model_status

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—ç–∫–µ–Ω–¥–∞
app_backend/
‚îú‚îÄ app.py                # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI (—Ä–∞–∑–¥–∞—ë—Ç / –∏ /static, –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Ä–æ—É—Ç—ã)
‚îú‚îÄ __init__.py
‚îú‚îÄ static/
‚îÇ  ‚îî‚îÄ index.html         # –ø—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∫–∏ CSV
‚îú‚îÄ routers/
‚îÇ  ‚îú‚îÄ __init__.py
‚îÇ  ‚îî‚îÄ predict.py         # —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã API
‚îî‚îÄ deps/
   ‚îú‚îÄ __init__.py
   ‚îî‚îÄ model.py           # –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏, threshold, expected_features


–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –º–æ–¥–µ–ª–∏:

models/
‚îú‚îÄ heart_rf_final.pkl          # {"pipeline": sklearn.Pipeline, "threshold": float}
‚îú‚îÄ expected_features.json      # —Å–ø–∏—Å–æ–∫ "—Å—ã—Ä—ã—Ö" –∫–æ–ª–æ–Ω–æ–∫, –∫–æ—Ç–æ—Ä—ã—Ö –∂–¥—ë—Ç –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
‚îî‚îÄ threshold.json (–æ–ø—Ü.)       # {"threshold": 0.39} ‚Äî –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ pkl

üîå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
GET /

–û—Ç–¥–∞—ë—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–≥—Ä—É–∑–∫–∏ CSV. –ö–æ–ª–æ–Ω–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è:
–∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ snake_case (–ø—Ä–æ–±–µ–ª—ã/–∫–∞–ø—Å ‚Üí –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è/–Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä);
Gender –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ {0,1};
—Å–ª—É–∂–µ–±–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ —Ç–∏–ø–∞ Unnamed: 0 –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è;
–Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –¥–æ–±–∏–≤–∞—é—Ç—Å—è NaN –∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–º—å—é—Ç–µ—Ä–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ preprocessor.
GET /api/model_status

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

{
  "ok": true,
  "has_predict_proba": true,
  "threshold": 0.39,
  "expected_features": ["age", "cholesterol", "..."],
  "pipeline_steps": [
    {"name": "prep", "type": "ColumnTransformer"},
    {"name": "select", "type": "SelectKBest"},
    {"name": "clf", "type": "RandomForestClassifier"}
  ]
}

POST /api/predict_csv (multipart/form-data)

file: CSV-—Ñ–∞–π–ª.
–û—Ç–≤–µ—Ç:

{
  "total": 966,
  "positive": 123,
  "negative": 843,
  "items": [
    {"row_id": 1, "label": 0, "proba": 0.12},
    {"row_id": 2, "label": 1, "proba": 0.81}
  ]
}

POST /api/predict (application/json)

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

{
  "age": 58,
  "cholesterol": 220,
  "heart_rate": 150,
  "diabetes": 0,
  "gender": "male",
  "systolic_blood_pressure": 140,
  "diastolic_blood_pressure": 90
}


–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å ‚Äî –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä.

üß† –ü—Ä–æ –º–æ–¥–µ–ª—å

–≠–∫—Å–ø–æ—Ä—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ –Ω–æ—É—Ç–±—É–∫–∞: –∫–æ–Ω–≤–µ–π–µ—Ä Pipeline(prep ‚Üí select ‚Üí clf) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –ø–æ—Ä–æ–≥–æ–º –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏.

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º:
heart_rf_final.pkl ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö–æ—Ç—è –±—ã –∫–ª—é—á "pipeline" —Å–æ sklearn-Pipeline; –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ "threshold".
expected_features.json ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–ª–æ–Ω–æ–∫ —Å—ã—Ä–æ–≥–æ –≤—Ö–æ–¥–∞ (–ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—Ä–æ–≤–Ω—è—Ç—å CSV –ø–µ—Ä–µ–¥ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–æ–º).
threshold.json (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –µ—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –ø–æ—Ä–æ–≥–æ–º –∏–∑ .pkl.

üß™ –ü—Ä–∏–º–µ—Ä—ã (curl)
–æ–¥–Ω–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ
curl -X POST http://127.0.0.1:8001/api/predict \
  -H "Content-Type: application/json" \
  -d "{\"age\":58, \"cholesterol\":220, \"gender\":\"male\"}"

CSV
curl -X POST http://127.0.0.1:8001/api/predict_csv \
  -F "file=@data/processed/heart_test.csv"

üõ†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è / 404 –Ω–∞ ‚Äú/‚Äù
–ó–∞–ø—É—Å–∫–∞—Ç—å –∏–º–µ–Ω–Ω–æ uvicorn app_backend.app:app --reload –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞.
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ app_backend/static/index.html —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

Could not import module "app" / –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º—ë–Ω
–ü–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è fastapi, –∏–Ω–∞—á–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º app_backend.

NaN –∏ SelectKBest —Ä—É–≥–∞–µ—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å /api/model_status: –ø–æ—Ä—è–¥–æ–∫ —à–∞–≥–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å prep ‚Üí select ‚Üí clf.
–ï—Å–ª–∏ –≤ —Å—Ç–∞—Ä–æ–º .pkl –±—ã–ª –ø–æ—Ä—è–¥–æ–∫ prep ‚Üí clf ‚Üí select, –ø–µ—Ä–µ—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –º–æ–¥–µ–ª—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—à –∑–∞–≥—Ä—É–∑—á–∏–∫ ‚Äî –æ–Ω –ø–µ—Ä–µ—Å—Ç–∞–≤–∏—Ç —à–∞–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ü–æ—Ä–æ–≥ –Ω–µ —Ç–æ—Ç
–û–±–Ω–æ–≤–∏—Ç–µ models/threshold.json:

{"threshold": 0.39}

üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

pandas, numpy ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
matplotlib, seaborn, plotly ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
scikit-learn ‚Äî –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –∏ –º–æ–¥–µ–ª–∏
statsmodels ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (VIF)
xgboost, lightgbm, catboost ‚Äî –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –±—É—Å—Ç–∏–Ω–≥
shap ‚Äî –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
fastapi, uvicorn ‚Äî REST API

üìà –ü–ª–∞–Ω—ã –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é

–ë–∞–∑–æ–≤—ã–π EDA –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
–û–±—É—á–µ–Ω–∏–µ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
–ü–æ–¥–±–æ—Ä –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –ø–æ—Ä–æ–≥–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è FastAPI-—Å–µ—Ä–≤–∏—Å–∞ (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ + REST API)
Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
–î–µ–ø–ª–æ–π –º–æ–¥–µ–ª–∏ –Ω–∞ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å

üë®‚Äçüíª –ê–≤—Ç–æ—Ä
–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –¢–æ–ª—Å—Ç–æ–∫–æ—Ä–æ–≤–æ–π –ö.–í. –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–≥–æ –∫—É—Ä—Å–∞ –ø–æ Data Science.